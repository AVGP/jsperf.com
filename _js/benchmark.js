/*!
 * Platform.js <http://mths.be/platform>
 * Copyright 2010-2011 John-David Dalton <http://allyoucanleet.com/>
 * Available under MIT license <http://mths.be/mit>
 */
(function(g){var p=g,e=this,d=typeof exports=="object"&&exports,n=typeof global=="object"&&global&&(global==global.global?(g=global):global),q={}.toString,m=/Java/.test(t(g.java))&&g.java,c=m?"a":"α",u=m?"b":"β",y=g.document||{},i={}.hasOwnProperty,f=g.navigator||{},a=g.platform,w=f.userAgent||"unknown platform",s=g.operamini||g.opera,l=/Opera/,k=l.test(k=t(s))?k:(s=null);function h(z){return z.charAt(0).toUpperCase()+z.slice(1);}function b(A,E){var B=-1,z=[A,A=Object(A)][0],D="item" in A,C=A.length;if(C==C>>>0){while(++B<C){if((D||B in A)&&E(A[B],B,A)===false){break;}}}else{for(B in A){if(x(A,B)&&E(A[B],B,A)===false){break;}}}return z;}function r(z){z=z.replace(/^\s+|\s+$/g,"");return/^(?:webOS|i(?:OS|P))/.test(z)?z:h(z);}function t(z){return z==null?h(String(z)):q.call(z).slice(8,-1);}function x(A,B){var z,C=(A.constructor||Object).prototype;A=Object(A);if(typeof i=="function"){z=i.call(A,B);}else{if({}.__proto__==Object.prototype){A.__proto__=[A.__proto__,A.__proto__=null,z=B in A][0];}else{z=B in A&&!(B in C&&A[B]===C[B]);}}return z;}function o(z,B){var A=z!=null?typeof z[B]:"number";return !/^(?:boolean|number|string|undefined)$/.test(A)&&(A=="object"?!!z[B]:true);}function j(C,B,z){var A=arguments.length<3;b(C,function(E,D){z=A?(A=0,E):B(z,E,D,C);});return z;}function v(C){C||(C=w);var G={},P=[],K=s&&typeof s.version=="function"&&s.version(),I=B(["WebKit","iCab","Presto","NetFront","Tasman","Trident","KHTML","Gecko"]),O=M(["BlackBerry","iPad","iPod","iPhone","Kindle","Nook","PlayBook","TouchPad","Transformer","Xoom"]),L=E({Apple:{iPad:1,iPhone:1,iPod:1},Amazon:{Kindle:1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},HP:{TouchPad:1},LG:{},Motorola:{Xoom:1},Nokia:{},Samsung:{}}),D=A(["Arora","Avant Browser","Camino","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iron","K-Meleon","Konqueror","Lunascape","Maxthon","Midori","Minefield","Nook Browser","Raven","Rekonq","RockMelt","SeaMonkey","Sleipnir","SlimBrowser","Sunrise","Swiftfox","Opera Mini","Opera","Chrome","Firefox","IE","Safari"]),F=N(["Android","Cygwin","SymbianOS","hpwOS","webOS ","webOS","Tablet OS","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);function B(Q){return j(Q,function(R,T,S){return R||RegExp("\\b"+(T=="WebKit"?"AppleWebKit":T)+"\\b","i").exec(C)&&T;},null);}function E(Q){return j(Q,function(R,T,S){if(!R&&(R=(T[/^[a-z]+/i.exec(O)]||RegExp("\\b"+S+"(?:\\b|\\w*\\d)","i").exec(C))&&S)){O||(O=M([R]));}return R;},null);}function A(Q){return j(Q,function(R,S){return R||RegExp("\\b"+(S=="IE"?"MSIE":S)+"\\b","i").exec(C)&&S;},null);}function N(Q){return j(Q,function(R,S){if(!R&&(R=RegExp("\\b"+S+"[^();-]*","i").exec(C))){G={"6.1":"Server 2008 R2 / 7","6.0":"Server 2008 / Vista","5.2":"Server 2003 / XP x64","5.1":"XP","5.0":"2000","4.0":"NT","4.9":"ME"};if(/^Win/i.test(R)&&(G=G[0,/[456]\.\d/.exec(R)])){R="Windows "+G;}else{if(/^i/.test(O)){D||(D="Safari");R="iOS"+((G=/\bOS ([\d_]+)/i.exec(C))?" "+G[1]:"");}}R=String(R).replace(RegExp(S,"i"),S).replace(/hpw/,"web").replace(/Macintosh/i,"Mac OS").replace(/_PowerPC/i," OS").replace(/(OS X) Mach$/i,"$1").replace(/(Symbian)(OS)/,"$1 $2").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/x86\.64/gi,"x86_64").split(" on ")[0];}return R;},null);}function M(Q){return j(Q,function(R,S){if(!R&&(R=RegExp("\\b"+S+"\\s*\\d+[.\\w]*","i").exec(C)||RegExp("\\b"+S+"(?:;\\s*[a-z]+\\d+|[^ ();-]*)","i").exec(C))){if((R=String(R).replace(RegExp(S,"i"),S).split("/"))[1]){if(/[\d.]+/.test(R[0])){K||(K=R[1]);}else{R[0]+=" "+R[1];}}R=r(/;/.test(R)?R[0].replace(/;\s+/," "):R[0].replace(RegExp("("+S+")(\\w)","i"),"$1 $2"));}return R;},null);}function H(){g.platform=a;return this;}function z(){return this.description;}I&&(I=[I]);if(/Simulator/i.test(C)){O=(O?O+" ":"")+"Simulator";}if(C&&(G=!D||/Firefox|Safari/.exec(D))){if(D&&!O&&/[/,]/.test(C.slice(C.indexOf(G+"/")+8))){D=null;}if((G=O||L||F)&&!/^(?:iP|Linux|Mac|Win)/.test(G)){D=/[a-z]+/i.exec(/Android/.test(F)&&F||G)+" Browser";}}if(L&&D=="Chrome"){D="Android Browser";}if(!K){K=j([/Mini|Raven/.test(D)?D:"version",D,"AdobeAIR","Firefox","NetFront"],function(Q,R){return Q||(RegExp(R+"(?:-[\\d.]+/|(?: for [-\\w]+)?[ /-])([\\d.]+[^ ();/-]*)","i").exec(C)||0)[1]||null;},null);}if(G=!I&&(s&&"Presto"||/\bMSIE\b/i.test(C)&&(/^Mac/.test(F)?"Tasman":"Trident"))||/\b(?:Midori|Nook|Safari)\b/i.test(C)&&"WebKit"){I=[G];}else{if(I=="iCab"&&parseFloat(K)>3){I=["WebKit"];}}if(o(e,"global")){if(m&&!F){F=m.lang.System.getProperty("os.name")+" "+m.lang.System.getProperty("os.version");}if(typeof exports=="object"&&exports){if(e==p&&typeof system=="object"&&(G=[system])[0]){F||(F=G[0].os||null);try{G[1]=require("ringo/engine").version;K=G[1].join(".");D="RingoJS";}catch(J){G[0].global==n&&(D="Narwhal");}}else{if(typeof process=="object"&&(G=process)){D="Node.js";K=/[\d.]+/.exec(G.version)[0];F=G.platform;}}}else{if(t(g.environment)=="Environment"){D="Rhino";}}}else{if(t(G=g.runtime)=="ScriptBridgingProxyObject"){D="Adobe AIR";F=G.flash.system.Capabilities.os;}else{if(t(G=g.phantom)=="RuntimeObject"){D="PhantomJS";K=(G=G.version||null)&&(G.major+"."+G.minor+"."+G.patch);}else{if(typeof y.documentMode=="number"&&(G=/Trident\/(\d+)/i.exec(C))){K=[K,y.documentMode];K[1]=(G=+G[1]+4)!=K[1]?(I[1]="",P.push("running in IE "+K[1]+" mode"),G):K[1];K=D=="IE"?String(K[1].toFixed(1)):K[0];}}}}if(K&&(G=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(K)||/(?:alpha|beta)(?: ?\d)?/i.exec(C+";"+f.appMinorVersion))){K=K.replace(RegExp(G+"\\+?$"),"")+(/b/i.test(G)?u:c)+(/\d+\+?/.exec(G)||"");}if(D=="Maxthon"){K=K&&K.replace(/\.[.\d]+/,".x");}else{if(D=="Minefield"){D="Firefox";K&&!RegExp(c+"|"+u).test(K)&&(K+=c);}else{if((D=="IE"||D&&!O)&&!/Browser/.test(D)&&/Mobi/i.test(C)){D+=" Mobile";}else{if(D=="IE"&&typeof external=="object"&&!external){P.unshift("platform preview");}else{if(/BlackBerry/.test(O)&&(G=(RegExp(O.replace(/\s/g,"")+"/([\\d.]+)","i").exec(C)||0)[1]||K)){F="Device Software "+G;K=null;}else{if(s&&(G=[s,s=0,v(C.replace(l,""))],s=G[0],G=G[2]).name&&!l.test(G.name)){P.push((l.test(D)?"identify":"mask")+"ing as "+G.name+((G=G.version)?" "+G:""));D=l.test(D)?D:r(k.replace(/([a-z])([A-Z])/g,"$1 $2"));I=["Presto"];}}}}}}if((G=(/AppleWebKit\/(\d+(?:\.\d+)?\+?)/i.exec(C)||0)[1])){if(G.slice(-1)=="+"&&(G=G.slice(0,-1),D=="Safari")){D="WebKit Nightly";K=G;}if(/\n/.test(q.toString())){I[1]="like Safari";G=G<400?1:G<500?2:G<526?3:G<533?4:G<534?"4+":G<535?5:"5";}else{I[1]="like Chrome";G=G<530?1:G<532?2:G<532.5?3:G<533?4:G<534.3?5:G<534.7?6:G<534.1?7:G<534.13?8:G<534.16?9:G<534.24?10:G<534.3?11:G<535.1?12:G<535.2?"13+":G<535.5?15:G<535.7?16:"17";}G=(/Chrome\/([\d.]+)/i.exec(C)||0)[1]||G;I[1]+=" "+(G+=typeof G=="number"?".x":/[.+]/.test(G)?"":"+");D=="Safari"&&(!K||parseInt(K)>45)&&(K=G);}if(I&&!/Avant|Nook/.test(D)&&(/Browser|Lunascape|Maxthon/.test(D)||I[1]&&/Adobe|Arora|Midori|Phantom|Rekonq|RockMelt|Sleipnir|WebKit/.test(D))){(G=I[I.length-1])&&P.push(G);}if(P.length){P=["("+P.join("; ")+")"];}if(L&&String(O).indexOf(L)<0){P.push("on "+L);}if(O){P.push((/^on /.test(P[P.length-1])?"":"on ")+O);}if(/\b(?:IA|WOW|x)64\b/i.test(C)){F=F&&F+(/64/.test(F)?"":" x64");if(D&&(/WOW64/i.test(C)||/\w(?:86|32)$/.test(f.cpuClass||f.platform))){P.unshift("x86");}}return{version:D&&K&&(P.unshift(K),K),name:D&&(P.unshift(D),D),os:D&&(F=F&&r(F))&&(P.push(O?"("+F+")":"on "+F),F),description:P.length?P.join(" "):C,layout:I&&I[0],manufacturer:L,product:O,noConflict:H,toString:z};}if(false){b(v(),function(A,z){d[z]=A;});}else{if(false=="function"&&typeof define.amd=="object"&&define.amd){define(function(){return v();});}else{g.platform=v();}}}(this));
/*!
 * Benchmark.js <http://benchmarkjs.com/>
 * Copyright 2010-2011 Mathias Bynens <http://mths.be/>
 * Based on JSLitmus.js, copyright Robert Kieffer <http://broofa.com/>
 * Modified by John-David Dalton <http://allyoucanleet.com/>
 * Available under MIT license <http://mths.be/mit>
 */
(function(ap,s){var d=typeof define=="function"&&typeof define.amd=="object"&&define.amd&&define,p=typeof exports=="object"&&exports&&(typeof global=="object"&&global&&global==global.global&&(ap=global),exports),T=typeof require=="function"&&require,am=0,Y={}.hasOwnProperty,ab={}.toString,ag="uid"+(+new Date),S={},ar={"1":4096,"2":512,"3":64,"4":8,"5":0},C={"1":12.706,"2":4.303,"3":3.182,"4":2.776,"5":2.571,"6":2.447,"7":2.365,"8":2.306,"9":2.262,"10":2.228,"11":2.201,"12":2.179,"13":2.16,"14":2.145,"15":2.131,"16":2.12,"17":2.11,"18":2.101,"19":2.093,"20":2.086,"21":2.08,"22":2.074,"23":2.069,"24":2.064,"25":2.06,"26":2.056,"27":2.052,"28":2.048,"29":2.045,"30":2.042,infinity:1.96},D={air:K(ap.runtime,"ScriptBridgingProxyObject"),decompilation:!!(function(){try{return Function("return "+(function(){return 1;}))()()===1;}catch(aA){}}()),java:K(ap.java,"JavaPackage"),timeout:ax(ap,"setTimeout")&&ax(ap,"clearTimeout")},J={ns:Date,start:null,stop:null},G=Math.abs,L=Math.floor,q=Math.max,av=Math.min,an=Math.pow,z=Math.sqrt;function az(aB,aC,aA){var aD=this;if(aD&&aD.constructor!=az){return new az(aB,aC,aA);}if(K(aB,"Object")){aA=aB;}else{if(K(aB,"Function")){aA=aC;aC=aB;}else{if(K(aC,"Object")){aA=aC;aD.name=aB;}else{aD.name=aB;}}}X(aD,aA);aD.fn||(aD.fn=aC);aD.id||(aD.id=++am);aD.stats=W({},aD.stats);aD.times=W({},aD.times);}function e(aA){var aB=this;if(aB&&aB.constructor!=e){return new e(aA);}aB.benchmark=aA;c(aB);}function H(aA){var aB=this;return(aB&&aB.constructor!=H)?new H(aA):(aA instanceof H)?aA:W(aB,typeof aA=="string"?{type:aA}:aA);}function ah(aB,aA){var aC=this;if(aC&&aC.constructor!=ah){return new ah(aB,aA);}if(K(aB,"Object")){aA=aB;}else{aC.name=aB;}X(aC,aA);}function at(){var aG,aE=-1,aF=arguments.length,aA=u.call(this),aD=aA.length;while(++aE<aF){aG=arguments[aE];if(K(aG,"Array")){for(var aC=0,aB=aG.length;aC<aB;aC++,aD++){if(aC in aG){aA[aD]=aG[aC];}}}else{aA[aD]=aG;}}return aA;}function B(aB,aD,aA){var aG=aB+aD,aE=aA?aA.length:0,aH=aB-1,aC=aB+aE,aF=this,aJ=[],aI=u.call(aF,aG);while(++aH<aG){if(aH in aF){aJ[aH-aB]=aF[aH];delete aF[aH];}}aH=aB-1;while(++aH<aC){aF[aH]=aA[aH-aB];}aB=aH--;aC=(aF.length>>>0)-aD+aE;while(++aH<aC){if((aH-aB) in aI){aF[aH]=aI[aH-aB];}else{delete aF[aH];}}aD=aD>aE?aD-aE:0;while(aD--){delete aF[aC+aD];}aF.length=aC;return aJ;}function b(){var aE,aF,aC=-1,aB=Object(this),aD=aB.length>>>0,aA=L(aD/2);if(aD>1){while(++aC<aA){aE=aD-aC-1;aF=aE in aB?aB[aE]:ag;if(aC in aB){aB[aE]=aB[aC];}else{delete aB[aE];}if(aF!=ag){aB[aC]=aF;}else{delete aB[aC];}}}return aB;}function R(){return B.call(this,0,1)[0];}function u(aF,aB){var aD=-1,aC=Object(this),aE=aC.length>>>0,aA=[];aF=ak(aF);aF=aF<0?q(aE+aF,0):av(aF,aE);aF--;aB=aB==null?aE:ak(aB);aB=aB<0?q(aE+aB,0):av(aB,aE);while((++aD,++aF)<aB){if(aF in aC){aA[aD]=aC[aF];}}return aA;}function ai(aD,aB){var aA=Object(this),aC=aA.length>>>0;aD=ak(aD);aD=aD<0?q(aC+aD,0):av(aD,aC);aB=av(q(ak(aB),0),aC-aD);return B.call(aA,aD,aB,u.call(arguments,2));}function ak(aA){aA=+aA;return aA===0||!isFinite(aA)?aA||0:aA-(aA%1);}function aq(){var aA=Object(this);B.call(aA,0,0,arguments);return aA.length;}function I(aA){aA||(aA={});var aB=aA.fn;(!aA.async&&aB||function(){var aD=aA.benchmark,aE=aD._timerIds||(aD._timerIds=[]),aC=aE.length;aE.push(setTimeout(function(){aE.splice(aC,1);aE.length||delete aD._timerIds;aB();},aD.delay*1000));})();}function n(){n=function(aC,aA){var aB=d?define.amd:az,aD=ag+"createFunction";V((d?"define.amd.":"Benchmark.")+aD+"=function("+aC+"){"+aA+"}");return[aB[aD],delete aB[aD]][0];};n=(n("",'return"'+ag+'"')||aj)()==ag?n:Function;return n.apply(null,arguments);}function W(aA,aB){aw(u.call(arguments,1),function(aD){aD||(aD={});for(var aC in aD){aA[aC]=aD[aC];}});return aA;}function j(aA){return C[Math.round(aA)||1]||C.infinity;}function g(aA){return h(aA,function(aC,aB){return aC+aB;},0)/aA.length||0;}function U(aA){return(aA.toString==Function.prototype.toString?((/^[^{]+{([\s\S]*)}\s*$/.exec(aA)||0)[1]||""):String(aA)).replace(/^\s+|\s+$/g,"");}function ae(aB,aA){return h(aA||{},function(aC,aE,aD){return aC.replace(RegExp("#\\{"+aD+"\\}","g"),aE);},aB);}function K(aB,aA){return aB!=null&&ab.call(aB).slice(8,-1)==aA;}function ax(aA,aC){var aB=aA!=null?typeof aA[aC]:"number";return !/^(?:boolean|number|string|undefined)$/.test(aB)&&(aB=="object"?!!aA[aC]:true);}function al(aA){return function(){return aA.apply(this,[this].concat(u.call(arguments)));};}function aj(){}function F(aC){var aA=null;try{p&&T&&(aA=T(aC));}catch(aB){}return aA;}function V(aE){var aD,aA,aC,aB=d?define.amd:az,aH=ag+"runScript",aF=(d?"define.amd.":"Benchmark.")+aH+"();";try{aC=document.getElementsByTagName("script")[0];aD=aC.parentNode;aA=document.createElement("script");aB[aH]=function(){aD.removeChild(aA);};aA.appendChild(document.createTextNode(aF+aE));aD.insertBefore(aA,aC);}catch(aG){}delete aB[aH];}function X(aB,aA){aA=W({},aB.constructor.options,aA);aB.options=aw(aA,function(aD,aC){if(aD!=null){if(/^on[A-Z]/.test(aC)){aw(aC.split(" "),function(aE){aB.on(aE.slice(2).toLowerCase(),aD);});}else{aB[aC]=aD;}}});}function P(){var aB=this,aA=aB.benchmark;if(++aB.cycles<aA.count){aA.fn(aB);}else{J.stop(aB);aA.teardown();I({async:true,benchmark:aA,fn:function(){y({benchmark:aA,deferred:aB});}});}}function aw(aD,aH,aB){var aC=-1,aA=[aD,aD=Object(aD)][0],aG="snapshotLength" in aD&&"snapshotItem" in aD,aF=aG||"item" in aD,aE=aG?aD.snapshotLength:aD.length;if(aE==aE>>>0){while(++aC<aE){if((aF||aC in aD)&&aH.call(aB,aG?aD.snapshotItem(aC):aD[aC],aC,aD)===false){break;}}}else{aa(aD,aH,aB);}return aA;}function x(aD,aC,aB){var aA;if(aC=="successful"){aC=function(aE){return aE.cycles;};}else{if(aC=="fastest"||aC=="slowest"){aA=x(aD,"successful").sort(function(aF,aE){aF=aF.stats;aE=aE.stats;return(aF.mean+aF.moe>aE.mean+aE.moe?1:-1)*(aC=="fastest"?1:-1);});aA=x(aA,function(aE){return !aA[0].compare(aE);});}}return aA||h(aD,function(aE,aG,aF){return aC.call(aB,aG,aF,aD)?(aE.push(aG),aE):aE;},[]);}function aa(aC,aE,aB){var aA=aC;aC=Object(aC);for(var aD in aC){if(O(aC,aD)&&aE.call(aB,aC[aD],aD,aC)===false){break;}}return aA;}function k(aA){aA=String(aA).split(".");return aA[0].replace(/(?=(?:\d{3})+$)(?!\b)/g,",")+(aA[1]?"."+aA[1]:"");}function O(aB,aC){var aA,aD=(aB.constructor||Object).prototype;aB=Object(aB);if(K(Y,"Function")){aA=Y.call(aB,aC);}else{if({}.__proto__==Object.prototype){aB.__proto__=[aB.__proto__,aB.__proto__=null,aA=aC in aB][0];}else{aA=aC in aB&&!(aC in aD&&aB[aC]===aD[aC]);}}return aA;}function m(aC,aB){var aA=-1;aw(aC,function(aD,aE){if(aB===aD){aA=aE;return false;}});return aA;}function A(aD,aC){var aK,aB,aA,aJ=-1,aN={onStart:aj,onCycle:aj,onComplete:aj},aO=t(aD,function(aP){return aP;});function aF(aP){var aQ=aK[0]&&aK[0].async;return aE(aP)&&(aQ==null?aP.options.async:aQ)&&D.timeout;}function aH(aP){return aE(aP)&&aP.defer;}function aE(aP){return Object(aP).constructor==az&&aC=="run";}function aG(aP){return !(aF(aP)||aH(aP));}function aL(){var aP,aQ=aG(aB);if(!aQ){aB.on("complete",aI);aP=aB.events.complete;aP.splice(0,0,aP.pop());}aO[aJ]=K(aB&&aB[aC],"Function")?aB[aC].apply(aB,aK):s;return aQ&&aI();}function aI(){var aQ=aB,aP=aG(aQ);if(!aP){aQ.removeListener("complete",aI);aQ.emit("complete");}if(aN.onCycle.call(aD,H("cycle"),aQ)!==false&&aM()!==false){aB=aA?aD[0]:aO[aJ];if(!aG(aB)){I({async:aF(aB),benchmark:aB,fn:aL});}else{if(!aP){while(aL()){}}else{return true;}}}else{aN.onComplete.call(aD,H("complete"),aQ);}return false;}function aM(){var aP=aO.length;if(aA){do{++aJ>0&&R.call(aD);}while((aP=aD.length)&&!(0 in aD));}else{while(++aJ<aP&&!(aJ in aO)){}}return(aA?aP:aJ<aP)?aJ:(aJ=false);}if(K(aC,"String")){aK=u.call(arguments,2);}else{aN=W(aN,aC);aC=aN.name;aK=K(aK="args" in aN?aN.args:[],"Array")?aK:[aK];aA=aN.queued;}if(aM()!==false){aB=aO[aJ];aN.onStart.call(aD,H("start"),aB);if(aD.aborted&&aD.constructor==ah&&aC=="run"){aN.onCycle.call(aD,H("cycle"),aB);aN.onComplete.call(aD,H("complete"),aB);}else{if(aF(aB)){I({async:true,benchmark:aB,fn:aL});}else{while(aL()){}}}}return aO;}function Z(aD,aE,aC){var aB=[],aF=aD.length,aA="length" in aD&&aF==aF>>>0;aC||(aC=": ");aw(aD,function(aH,aG){aB.push(aA?aH:aG+aC+aH);});return aB.join(aE||",");}function t(aC,aB,aA){return h(aC,function(aD,aF,aE){aD[aE]=aB.call(aA,aF,aE,aC);return aD;},Array(Object(aC).length>>>0));}function E(aB,aA){return t(aB,function(aC){return aC==null?s:aC[aA];});}function h(aD,aC,aA){var aB=arguments.length<3;aw(aD,function(aF,aE){aA=aB?(aB=0,aF):aC(aA,aF,aE,aD);});return aA;}function M(){var aA=this;if(aA.running){S.abortSuite=true;aA.reset();delete S.abortSuite;aA.aborted=true;!S.resetSuite&&A(aA,"abort");aA.emit("abort");}return aA;}function o(aB,aD,aA){var aE=this,aC=az(aB,aD,aA);aE.push(aC);aE.emit("add",aC);return aE;}function af(aB){var aC=this,aA=new aC.constructor(W({},aC.options,aB));aa(aC,function(aE,aD){if(!O(aA,aD)){aA[aD]=aE&&K(aE.clone,"Function")?aE.clone():aE;}});return aA.reset();}function f(aC){var aB=this,aA=new aB.constructor;aA.push.apply(aA,x(aB,aC));return aA;}function i(){var aB=this,aA=!S.abortSuite;if(aB.running&&aA){S.resetSuite=true;aB.abort();delete S.resetSuite;aB.aborted=false;}else{if(aB.aborted!==false||aB.running!==false){aB.aborted=aB.running=false;aA&&A(aB,"reset");aB.emit("reset");}}return aB;}function r(aA){var aB=this;aB.reset();aB.running=true;aA||(aA={});A(aB,{name:"run",args:aA,queued:aA.queued,onStart:function(aD,aC){aB.emit("start",aC);},onCycle:function(aD,aC){if(aC.error){aB.emit("error",aC);}return !aB.aborted&&aB.emit("cycle",aC);},onComplete:function(aD,aC){aB.running=false;aB.emit("complete",aC);}});return aB;}function a(aB,aD){var aC=this,aA=aC.events||(aC.events={});aw(aB.split(" "),function(aE){(aA[aE]||(aA[aE]=[])).push(aD);});return aC;}function Q(aE){var aG=this,aF=H(aE),aB=(arguments[0]=aF,u.call(arguments)),aC=aG.events,aD=aC&&aC[aF.type]||[],aA=true;aw(aD.slice(),function(aH){if(!(aA=aH.apply(aG,aB)!==false)){return aA;}});return aA;}function v(aB,aD){var aC=this,aA=aC.events;aw(aB.split(" "),function(aG){var aF=aA&&aA[aG]||[],aE=m(aF,aD);if(aE>-1){aF.splice(aE,1);}});return aC;}function l(aB){var aC=this,aA=aC.events;aw(aB?aB.split(" "):aA,function(aD){(aA&&aA[aD]||[]).length=0;});return aC;}function ac(){var aA=this;if(aA.running){if(D.timeout){aw(aA._timerIds||[],clearTimeout);delete aA._timerIds;}S.abort=true;aA.reset();delete S.abort;aA.aborted=true;aA.emit("abort");}return aA;}function w(aB){var aC=this,aA=new aC.constructor(aC.fn,W({},aC.options,{id:aC.id},aB));aa(aC,function(aE,aD){if(!O(aA,aD)){aA[aD]=aE;}});return aA.reset();}function au(aB){var aC=this.stats,aA=aB.stats,aG=aC.size+aA.size-2,aD=(((aC.size-1)*aC.variance)+((aA.size-1)*aA.variance))/aG,aF=(aC.mean-aA.mean)/z(aD*(1/aC.size+1/aA.size)),aE=G(1-aC.mean/aA.mean)<0.055&&aC.rme<3&&aA.rme<3;return !aE&&G(aF)>j(aG)?(aF>0?-1:1):0;}function N(){var aE,aD,aA=this,aC=W({},aA.constructor.prototype,aA.options),aB=[[aC,aA]];if(aA.running&&!S.abort){aA.abort();aA.aborted=aC.aborted;}else{while(aB.length){aw((aD=aB.pop(),aD[0]),function(aH,aG){var aF=aD[1][aG];if(aH&&K(aH,"Object")){aB.push([aH,aF]);}else{if(aH!==aF&&!(aH==null||K(aH,"Function"))){aD[1][aG]=aH;aE=true;}}});}if(aE){aA.emit("reset");}}return aA;}function ad(){var aF=this,aB=aF.error,aG=aF.hz,aH=aF.id,aE=aF.stats,aD=aE.size,aC=D.java?"+/-":"\xb1",aA=aF.name||(typeof aH=="number"?"<Test #"+aH+">":aH);if(aB){aA+=": "+Z(aB);}else{aA+=" x "+k(aG.toFixed(aG<100?2:0))+" ops/sec "+aC+aE.rme.toFixed(2)+"% ("+aD+" run"+(aD==1?"":"s")+" sampled)";}return aA;}function c(){var aC,aB=az.options,aD={begin:"s$=new n$",end:"r$=(new n$-s$)/1e3",uid:ag},aF=[{ns:J.ns,res:q(0.0015,aA("ms")),unit:"ms"}];c=function(aH){var aP=aH instanceof e&&[aH,aH=aH.benchmark][0],aN=D.decompilation,aL=aH.fn,aO=aH._host||aH,aI=aO.count=aH.count,aK=aL.compiled,aM=J.ns,aQ=0;aH.minTime=aO.minTime||(aO.minTime=aO.options.minTime=aB.minTime);if(aC){try{aM.nanoTime();}catch(aJ){aM=J.ns=new aC.Packages.nano;}}if(aP){aO.setup();J.start(aP);aO.fn(aP);return aQ;}if(!aK){aK=n(aE("n$,t$"),ae(aE('var r$,s$,m$=this,f$=m$.fn,i$=m$.count;#{setup}\n#{begin};while(i$--){#{fn}\n}#{end};#{teardown}\nreturn{time:r$,uid:"#{uid}"}'),{setup:aN?U(aO.setup):"m$.setup()",fn:aN?U(aL):"f$()",teardown:aN?U(aO.teardown):"m$.teardown()"}));try{aO.count=1;aK=(aK.call(aO,aM)||{}).uid==ag&&aK;aO.count=aI;}catch(aJ){aK=false;aH.error=aJ||new Error(String(aJ));aO.count=aI;}if(!aK){aK=n(aE("n$"),ae(aE((aH.error?"var r$,s$,m$=this,f$=m$.fn,i$=m$.count;":"function f$(){#{fn}\n}var r$,s$,i$=this.count;")+"#{setup}\n#{begin};while(i$--){f$()}#{end};#{teardown}\nreturn{time:r$}"),{fn:U(aL),setup:U(aO.setup),teardown:U(aO.teardown)}));try{aO.count=1;aK.call(aO,aM);aO.count=aI;delete aH.error;}catch(aJ){aH.error=aJ||new Error(String(aJ));aO.count=aI;}}}if(!aH.error){aQ=aK.call(aO,aM).time;aL.compiled=aK;}return aQ;};function aA(aM){var aH,aJ,aL=30,aN=1000,aI=J.ns,aK=[];while(aL--){if(aM=="us"){aN=1000000;if(aI.stop){aI.start();while(!(aH=aI.microseconds())){}}else{aJ=J.ns();while(!(aH=aI()-aJ)){}}}else{if(aM=="ns"){aN=1000000000;aJ=aI.nanoTime();while(!(aH=aI.nanoTime()-aJ)){}}else{aJ=new aI;while(!(aH=new aI-aJ)){}}}if(aH>0){aK.push(aH);}else{aK.push(Infinity);break;}}return g(aK)/aN;}function aE(aH){return ae(aH,aD).replace(/\$/g,/\d+/.exec(ag));}J.ns=h(ap.document&&document.applets||[],function(aI,aH){return(aC=aI||"nanoTime" in aH&&aH);});try{J.ns||(J.ns=java.lang.System);}catch(aG){}try{if(typeof J.ns.nanoTime()=="number"){aF.push({ns:J.ns,res:aA("ns"),unit:"ns"});}}catch(aG){}try{if((J.ns=new (ap.chrome||ap.chromium).Interval)){aF.push({ns:J.ns,res:aA("us"),unit:"us"});}}catch(aG){}if((J.ns=(F("microtime")||{now:0}).now)){aF.push({ns:J.ns,res:aA("us"),unit:"us"});}J=h(aF,function(aI,aH){return aH.res<aI.res?aH:aI;});if(J.unit!="ns"&&aC){aC=aC.parentNode.removeChild(aC),null;}if(J.res==Infinity){throw new Error("Benchmark.js was unable to find a working timer.");}if(J.unit=="ns"){W(aD,{begin:"s$=n$.nanoTime()",end:"r$=(n$.nanoTime()-s$)/1e9"});}else{if(J.unit=="us"){W(aD,J.ns.stop?{begin:"s$=n$.start()",end:"r$=n$.microseconds()/1e6"}:{begin:"s$=n$()",end:"r$=(n$()-s$)/1e6"});}}J.start=n(aE("d$"),aE("var n$=this.ns,#{begin};d$.timeStamp=s$"));J.stop=n(aE("d$"),aE("var n$=this.ns,s$=d$.timeStamp,#{end};d$.elapsed=r$"));aB.minTime||(aB.minTime=q(J.res/2/0.01,0.05));return c.apply(null,arguments);}function ay(aJ){aJ||(aJ={});var aD=aJ.async,aA=aJ.benchmark,aI=0,aG=[],aH=[],aF=aA.initCount;function aB(aK){while(aK--){aG.push(aA.clone({_host:aA,events:{start:[aE],cycle:[aE]}}));}}function aE(aL){var aN=this,aM=aN.cycles,aK=aL.type;if(aA.running){if(aK=="cycle"){if(aN.error){aA.abort();aA.error=aN.error;aA.emit("error");}else{aA.hz=aN.hz;aA.initCount=aN.initCount;aA.times.period=aN.times.period;if(aM>aA.cycles){aA.cycles=aM;}}aA.emit(aK);}else{aN.count=aA.initCount;}}else{if(aA.aborted){aN.abort();}}}function aC(aL,aU){var aX,aV,aR,aT,aO,aM,aN=+new Date,aK=aA.times,aQ=aA.aborted,aS=(aI+=aN-aU.times.timeStamp)/1000>aA.maxTime,aW=aH.push(aU.times.period),aP=function(aZ,aY){return aZ+an(aY-aX,2);};if(aQ||aU.hz==Infinity){aS=!(aW=aH.length=aG.length=0);}if(!aQ){aX=g(aH);aM=h(aH,aP,0)/(aW-1)||0;aT=z(aM);aO=aT/z(aW);aV=aO*j(aW-1);aR=(aV/aX)*100||0;W(aA.stats,{moe:aV,rme:aR,sem:aO,deviation:aT,mean:aX,size:aW,variance:aM});if(aS){aQ=true;aA.running=false;aA.initCount=aF;aK.elapsed=(aN-aK.timeStamp)/1000;}if(aA.hz!=Infinity){aK.period=aX;aK.cycle=aX*aA.count;aA.hz=1/aX;}}if(aG.length<2&&!aS){aB(1);}return !aQ;}aB(aA.minSamples);A(aG,{name:"run",args:{async:aD},queued:true,onCycle:aC,onComplete:function(){aA.emit("complete");}});}function y(aJ){aJ||(aJ={});var aD,aC,aF,aH,aE=aJ.async,aB=aJ.benchmark,aG=aB.count,aI=aJ.deferred,aA=aB.times;if(aB.running){aB.cycles++;aD=aI?aI.elapsed:c(aB);aF=aB.minTime;if(aB.error){aB.abort();aB.emit("error");}}if(aB.running){aA.cycle=aD;aH=aA.period=aD/aG;aB.hz=1/aH;aB.running=aD<aF;aB.initCount=aG;if(aB.running){if(!aD&&(aC=ar[aB.cycles])!=null){aG=L(4000000/aC);}if(aG<=aB.count){aG+=Math.ceil((aF-aD)/aH);}aB.running=aG!=Infinity;}}if(aB.emit("cycle")===false){aB.abort();}if(aB.running){aB.count=aG;if(aI){aB.fn(aI);}else{I({async:aE,benchmark:aB,fn:function(){y({async:aE,benchmark:aB});}});}}else{V("try{"+ag+"=1;delete "+ag+"}catch(e){}");aB.emit("complete");}}function ao(aA){var aC=this,aB=((aB=aA&&aA.async)==null?aC.async:aB)&&D.timeout;aC.running=false;aC.reset();aC.running=true;aC.count=aC.initCount;aC.times.timeStamp=+new Date;aC.emit("start");if(aC._host){if(aC.defer){e(aC);}else{y({async:aB,benchmark:aC});}}else{ay({async:aB,benchmark:aC});}return aC;}W(az,{version:"0.2.2",options:{async:false,defer:false,delay:0.005,id:null,initCount:1,maxTime:5,minSamples:5,minTime:0,name:null},platform:F("platform")||ap.platform||{description:ap.navigator&&navigator.userAgent||"unknown platform",layout:null,product:null,name:null,os:null,version:null,toString:function(){return this.description;}},each:aw,filter:x,forIn:aa,formatNumber:k,hasKey:O,indexOf:m,invoke:A,join:Z,map:t,pluck:E,reduce:h});az.prototype.toString=ad;W(az.prototype,{count:0,cycles:0,error:null,hz:0,fn:null,aborted:false,running:false,on:a,setup:aj,teardown:aj,stats:{moe:0,rme:0,sem:0,deviation:0,mean:0,size:0,variance:0},times:{cycle:0,elapsed:0,period:0,timeStamp:0},abort:ac,addListener:a,clone:w,compare:au,emit:Q,removeAllListeners:l,removeListener:v,reset:N,run:ao});ah.options={name:null};W(ah.prototype,{length:0,aborted:false,running:false,each:al(aw),indexOf:al(m),invoke:al(A),join:[].join,map:al(t),pluck:al(E),pop:[].pop,push:[].push,sort:[].sort,reduce:al(h),abort:M,add:o,addListener:a,clone:af,emit:Q,filter:f,on:a,removeAllListeners:l,removeListener:v,reset:i,run:r,concat:at,reverse:b,shift:R,slice:u,splice:ai,unshift:aq});W(e.prototype,{benchmark:null,cycles:0,elapsed:0,timeStamp:0,resolve:P});H.prototype.type="";W(az,{Deferred:e,Event:H,Suite:ah});if(false){if(typeof module=="object"&&module&&module.exports==p){module.exports=az;}else{p.Benchmark=az;}}else{if(false){d(["platform"],function(aA){az.platform=aA;return az;});}else{ap.Benchmark=az;}}if(D.air){c({fn:aj,count:1,options:{}});}}(this));
/*!
 * ui.js
 * Copyright Mathias Bynens <http://mths.be/>
 * Modified by John-David Dalton <http://allyoucanleet.com/>
 * Available under MIT license <http://mths.be/mit>
 */
(function(n,v){var p="/_jar/nano.jar",z="UA-6065217-40",A="results-",F={error:"error",show:"show",results:"results"},c={run:{ready:"Run tests",again:"Run again",running:"Stop running"},status:{ready:"Ready to run.",again:"Done. Ready to run again."}},g={localStorage:!!function(){try{return !localStorage.getItem(+new Date);}catch(I){}}(),operaMini:platform.name=="Opera Mini",runner:!!k("runner")},o=[],x={},t=false,h={async:!g.operaMini,queued:true},e=v.body,y={}.toString,u=new Benchmark.Suite,j=Benchmark.each,r=Benchmark.filter,b=Benchmark.forIn,m=Benchmark.formatNumber,f=Benchmark.indexOf,H=Benchmark.invoke;x.benchmark={cycle:function(){var J=this,I=J.stats.size;if(!J.aborted&&!g.operaMini){l(J.name+" × "+m(J.count)+" ("+I+" sample"+(I==1?"":"s")+")");}},start:function(){if(a(n.init)){init();}}};x.button={run:function(){var I=!u.running;u.abort();u.length=0;if(I){D({clear:true});u.push.apply(u,r(u.benchmarks,function(J){return !J.error&&J.reset();}));u.run(h);}}};x.title={click:function(J){J||(J=n.event);var L,I,K=J.target||J.srcElement;while(K&&!(L=K.id)){K=K.parentNode;}I=L&&--L.split("-")[1]||0;u.push(u.benchmarks[I].reset());u.running?u.render(I):u.run(h);},keyup:function(I){if(13==(I||n.event).keyCode){x.title.click(I);}}};x.window={hashchange:function(){u.parseHash();var K,L=u.params,J=L.chart,I=L.filterby;if(t){u.browserscope.postable=g.runner&&!("nopost" in L);if(J||I){K=k("results").offsetTop;u.browserscope.render({chart:J,filterBy:I});}if(g.runner){if(a(n.init)){init();}if("run" in L){K=k("runner").offsetTop;setTimeout(x.button.run,1);}if(K){e.scrollTop=K;}}}},load:function(){if(g.runner){s("controls",F.show);q("run","click",x.button.run);B("run",c.run.ready);B("user-agent",Benchmark.platform);l(c.status.ready);k("question").value="no";if(g.localStorage){j([k("author"),k("author-email"),k("author-url")],function(I){I.value=localStorage[I.id]||"";I.oninput=I.onkeydown=function(J){J&&J.type<"k"&&(I.onkeydown=null);localStorage[I.id]=I.value;};});}if(typeof n.console!="undefined"&&typeof console.firebug!="undefined"){s("firebug",F.show);}}setTimeout(function(){t=true;x.window.hashchange();},1);}};function k(I){return typeof I=="string"?v.getElementById(I):I;}function s(I,J){if((I=k(I))&&!d(I,J)){I.className+=(I.className?" ":"")+J;}return I;}function q(J,I,K){if((J=k(J))){if(typeof J.addEventListener!="undefined"){J.addEventListener(I,K,false);}else{if(typeof J.attachEvent!="undefined"){J.attachEvent("on"+I,K);}}}return J;}function E(J,I){if((J=k(J))&&I!=null){J.innerHTML+=I;}return J;}function w(I){return v.createElement(I);}function d(I,J){return !!(I=k(I))&&(" "+I.className+" ").indexOf(" "+J+" ")>-1;}function B(J,I){if((J=k(J))){J.innerHTML=I==null?"":I;}return J;}function C(I,K){K||(K={});for(var J in K){I[J]=K[J];}return I;}function a(I){return y.call(I)=="[object Function]";}function D(K){var J,L=k("error-info"),I={};if(typeof K=="object"&&K){I=K;K=I.text;}else{if(arguments.length){I.text=K;}}if(!L){J=k("test-table");L=w("div");L.id="error-info";J.parentNode.insertBefore(L,J.nextSibling);}if(I.clear){L.className=L.innerHTML="";o.length=0;}if("text" in I&&f(o,K)<0){o.push(K);s(L,F.show);E(L,K);}}function l(I){B("status",I);}function i(){var J=this,I=location.hash.slice(1).split("&"),K=J.params||(J.params={});b(K,function(M,L){delete K[L];});j(I[0]&&I,function(L){L=L.split("=");K[L[0].toLowerCase()]=(L[1]||"").toLowerCase();});return J;}function G(I){j(I==null?(I=0,u.benchmarks):[u.benchmarks[I]],function(M){var K,J=k(A+(++I)),L=M.error,N=M.hz;J.title="";J.className=F.results;if(L){B(J,"Error");s(J,F.error);K=Benchmark.join(L,"</li><li>");D("<p>"+L+".</p>"+(K?"<ul><li>"+K+"</li></ul>":""));}else{if(M.running){B(J,"running…");}else{if(M.cycles){if(u.running){B(J,"completed");}else{J.title="Ran "+m(M.count)+" times in "+M.times.cycle.toFixed(3)+" seconds.";B(J,m(N.toFixed(N<100?2:0))+" <small>±"+M.stats.rme.toFixed(2)+"%</small>");}}else{if(u.running&&u.indexOf(M)>-1){B(J,"pending…");}else{B(J,"ready");}}}}});return u;}u.on("add",function(K,J){var I=u.benchmarks.length,M=I+1,L=k("title-"+M);delete u[--u.length];u.benchmarks.push(J);if(g.runner){L.tabIndex=0;L.title="Click to run this test again.";q(L,"click",x.title.click);q(L,"keyup",x.title.keyup);J.on("start",x.benchmark.start);J.on("start cycle",x.benchmark.cycle);u.render(I);}}).on("start cycle",function(){if(!g.operaMini){u.render();B("run",c.run.running);}}).on("complete",function(){var I=r(u.benchmarks,"successful"),J=r(I,"fastest"),K=r(I,"slowest");j([[J.slice(-1)[0],J.slice(0,-1)],[K[0],K.slice(1)]],function(M){var L=M[0];j(M[1],function(N){N.count=L.count;N.cycles=L.cycles;N.hz=L.hz;N.stats=C({},L.stats);});});u.render();B("run",c.run.again);l(c.status.again);j(I,function(M){var O,P="fastest",L=k(A+(f(u.benchmarks,M)+1)),N=L.getElementsByTagName("span")[0];if(f(J,M)>-1){s(L,P);}else{O=Math.round((1-M.hz/J[0].hz)*100);P=O+"% slower";if(f(K,M)>-1){s(L,"slowest");}}if(N){B(N,P);}else{E(L,"<span>"+P+"</span>");}});u.browserscope.post();});u.benchmarks=[];u.params={};u.parseHash=i;u.render=G;n.ui=u;n.alert=n.confirm=n.prompt=n.open=function(){};q(n,"hashchange",x.window.hashchange);q(n,"load",x.window.load);u.parseHash();(function(){var I=k("bs-results"),J=w("p");J.innerHTML="<span id=charts><strong>Chart type:</strong> <a href=#>bar</a>, <a href=#>column</a>, <a href=#>line</a>, <a href=#>pie</a>, <a href=#>table</a></span><br><span id=filters><strong>Filter:</strong> <a href=#>popular</a>, <a href=#>all</a>, <a href=#>desktop</a>, <a href=#>family</a>, <a href=#>major</a>, <a href=#>minor</a>, <a href=#>mobile</a>, <a href=#>prerelease</a></span>";I.parentNode.insertBefore(J,I);k("charts").onclick=k("filters").onclick=function(K){K||(K=n.event);var L=K.target||K.srcElement;if(L.href||(L=L.parentNode).href){u.browserscope.render(L.parentNode.id=="charts"?{chart:L.innerHTML}:{filterBy:L.innerHTML});}return false;};}());if(g.runner){(function(){var N,P=v.createElement("div"),K=v.body,J=K.style,O=J.height,M=v.documentElement,I=M.style,L=I.height;J.height=I.height="auto";P.style.cssText="display:block;height:9001px;";K.insertBefore(P,K.firstChild);N=M.scrollTop;if(M.clientWidth!==0&&++M.scrollTop&&M.scrollTop==N+1){e=M;}K.removeChild(P);J.height=O;I.height=L;M.scrollTop=N;}());if("nojava" in u.params){s("java",F.show);}else{v.body.insertBefore(B(w("div"),"<applet code=nano archive="+p+">").lastChild,v.body.firstChild);}}else{u.render=function(){};u.removeAllListeners("start cycle complete");setTimeout(function(){u.removeAllListeners();u.browserscope.post=function(){};H(u.benchmarks,"removeAllListeners");},1);}if(z){(function(){var I=w("script"),J=v.getElementsByTagName("script")[0];n._gaq=[["_setAccount",z],["_trackPageview"]];I.src="//www.google-analytics.com/ga.js";J.parentNode.insertBefore(I,J);}());}}(this,document));(function(G,f){var l={counter:0,lastAction:"load",lastChart:"bar",lastFilterBy:"all",responses:{},timers:{},trash:y("div")},k={all:3,desktop:"top-d",family:0,major:1,minor:2,mobile:"top-m",popular:"top",prerelease:"top-d-e"},e={}.toString,p="\u2028",r=Math.max,P=Math.min,J=Math.round,I=Benchmark.each,A=Benchmark.filter,s=Benchmark.forIn,K=Benchmark.formatNumber,o=Benchmark.hasKey,v=Benchmark.map,m=Benchmark.reduce;function g(R,Q,S){if((R=typeof R=="string"?O(R)[0]:R)){if(typeof R.addEventListener!="undefined"){R.addEventListener(Q,S,false);}else{if(typeof R.attachEvent!="undefined"){R.attachEvent("on"+Q,S);}}}return R;}function y(T,R,S){var Q;R&&R.nodeType&&(S=R,R=0);S=S?S.ownerDocument||S:f;R||(R="");try{Q=S.createElement("<"+T+' name="'+R+'">');}catch(U){(Q=S.createElement(T)).name=R;}return Q;}function C(R,Q){var S=y("div",Q);S.innerHTML="x<style>"+R+"</style>";return S.lastChild;}function b(Q){Q=O(Q)[0];return Q&&(Q.textContent||Q.innerText)||"";}function j(U,S,R){R=S?S.ownerDocument||[S,S=0][0]:R;var Q=y("script",R),T=S?S.nextSibling:O("script",R).pop();Q.src=U;return(S||T).parentNode.insertBefore(Q,T);}function O(R,S){var Q=[];R||(R="");S=typeof S=="string"?O(S)[0]:S||f;if(R.nodeType){Q=[R];}else{if(S){I(R.split(","),function(T){I(/^#/.test(T)?[S.getElementById(T.slice(1))]:S.getElementsByTagName(T),function(U){Q.push(U);});});}}return Q;}function w(S,R,Q){if((S=O(S)[0])){S.innerHTML=N(R,Q);}return S;}function h(T,R){var S=ui.browserscope,Q=S.container;if(Q){Q.className="bs-rt-message";w(Q,T,R);}}function d(){var V=ui.browserscope,T=[],S=frames[O("iframe",V.container)[0].name].document,R=O("text,textpath",S),U=V.uaClass,Q=false;if(R.length){I(O("link,style"),function(X){try{var W=X.sheet||X.styleSheet;I(W.cssRules||W.rules,function(Z){if((Z.selectorText||Z.cssText).indexOf("."+U)>-1){T.push(Z.style&&Z.style.cssText||/[^{}]*(?=})/.exec(Z.cssText)||"");}});}catch(Y){}});O("head",S)[0].appendChild(C("."+U+"{"+T.join(";")+"}",S));I(R,function(W){var X;if((W.string||b(W)).charAt(0)==p){if(W.string){W.className=U;X=W.nextSibling;W.parentNode.insertBefore(W.removeNode(),X);}else{W.setAttribute("class",U);}Q=true;}});}return Q;}function c(){var T=ui.browserscope,S=T.timings,U=l.timers,R=l.trash,Q=S.cleanup*1000;if(U.cleanup&&!ui.running){I(O("iframe,script"),function(W){var V=+(/^browserscope-\d+-(\d+)$/.exec(W.name)||0)[1]+r(Q,S.timeout*1000);if(new Date>V||/browserscope\.org|google\.com/.test(W.src)){R.appendChild(W);R.innerHTML="";}});}U.cleanup=setTimeout(c,Q);}function q(R){var S=R.constructor,Q=S?(L.prototype=S.prototype,new L):{};s(R,function(U,T){if(t(U)){Q[T]=[];I(U,function(W,V){Q[T][V]=q(W);});}else{if(U&&typeof U=="object"){Q[T]=q(U);}else{Q[T]=U;}}});return Q;}function M(){return m(ui.benchmarks,function(Q,T,S){var R=T.stats;if(T.cycles&&isFinite(T.hz)){Q||(Q={});S=i(T.name);Q[S&&!o(Q,S)?S:S+T.id]=J(1/(R.mean+R.moe));}return Q;},null);}function E(R){var Q=[];s(R,function(S){return !(t(S)&&(Q=S));});return Q;}function H(R){var Q=[],S={};s(R,function(T){return !(t(T)&&0 in T&&"type" in T[0]&&(Q=T));});I(ui.benchmarks,function(U){var T=i(U.name);S[T&&!o(S,T)?T:T+U.id]=U.name;});return I(Q,function(T){var U=S[T.label];U&&(T.label=U);});}function a(T){var S,R=l.lastFilterBy,V=x(b(O("strong","#bs-ua")[0]),R),U=ui.browserscope.uaClass,Q=[];s(T,function(X,W){return !(t(X)&&0 in X&&!("type" in X[0])&&(S=W,Q=X));});if(Q.length){Q=T[S]=A(Q,function(Y){var X=E(Y),Z=X[0],W=X[1];if(Z&&W&&W.f){delete Z.p.className;if(V==x(Z.f,R)){Z.p.className=U;}return true;}});}return Q;}function t(Q){return e.call(Q)=="[object Array]";}function N(R,Q){return m(Q||{},function(S,U,T){return S.replace(RegExp("#\\{"+T+"\\}","g"),U);},R);}function L(){}function D(S,Q){function R(T){if(T||S()!==false){setTimeout(R,Q*1000);}}R(true);}function B(Q){clearTimeout(l.timers[l.lastAction]);l.lastAction=Q;}function x(R,Q){R||(R="");if(Q=="all"){R=R.replace(/(\d+)[.0]+$/,"$1");}else{if(Q=="family"){R=R.replace(/[.\d\s]+$/,"");}else{if(/minor|popular/.test(Q)&&/\d+(?:\.[1-9])+$/.test(R)){R=R.replace(/(\d+\.[1-9])(\.[.\d]+$)/,"$1");}else{R=R.replace(/(\d+)(?:(\.[1-9]$)|(\.[.\d]+$))/,"$1$2");}}}return R;}function i(Q){return(Q||"").replace(/[^a-z0-9]+/gi," ");}function F(X){X||(X={});var Q,U=ui.browserscope,Y=U.container,V=l.lastFilterBy=X.filterBy||l.lastFilterBy,T=l.responses,S=l.responses[V],W=G.google&&google.visualization;function R(Z){var aa=T[V];if(!Q){Q=true;if(V==l.lastFilterBy){U.render({force:true,response:aa||Z});}else{if(!aa&&Z&&!Z.isError()){T[V]=Z;}}}}B("load");if(!Y||!W||S){Y&&R(S);}else{if(!ui.running){l.timers.load=setTimeout(R,U.timings.timeout*1000);h(U.texts.loading);(new W.Query("//www.browserscope.org/gviz_table_data?category=usertest_"+U.key+"&v="+k[V],{sendMethod:"scriptInjection"})).send(R);}}}function n(){var R,W,Q=f.body,X=ui.browserscope,U=X.key,V=X.timings,T="browserscope-"+(l.counter++)+"-"+(+new Date),S=M();B("post");if(U&&S&&X.postable&&!ui.running&&!/Simulator/i.test(Benchmark.platform)){W=y("iframe",T);Q.insertBefore(W,Q.firstChild);R=frames[T].document;W.style.display="none";X.snapshot=S;h(X.texts.post);R.write(N("#{doctype}<html><body><script>with(parent.ui.browserscope){var _bTestResults=snapshot,_bC=function(){clearTimeout(_bT);parent.setTimeout(function(){purge();load()},#{refresh}*1e3)},_bT=setTimeout(function(){_bC=function(){};render()},#{timeout}*1e3)}<\/script><script src=//www.browserscope.org/user/beacon/#{key}?callback=_bC><\/script></body></html>",{doctype:/css/i.test(f.compatMode)?"<!doctype html>":"",key:U,refresh:V.refresh,timeout:V.timeout}));R.close();}else{X.load();}}function u(Q){var R=l.responses;if(Q){delete R[Q];}else{s(R,function(T,S){delete R[S];});}}function z(an){an||(an={});var ai,au,ay,aa,Z,ax,ah=ui.browserscope,ap=ah.container,aw=l.responses,af=G.google&&google.visualization,al=l.lastChart,az=l.lastChart=an.chart||al,R=l.lastFilterBy,aq=l.lastFilterBy=an.filterBy||R,am=aw[aq],V=aw[aq]="response" in an?(V=an.response)&&!V.isError()&&V:am,ac="100%",av=80,ae=13,T="auto",S="operations per second (higher is better)",Y=48,W=240,at="top",aj=0,ar=20,U=0,ak=480,ad=ap&&ap.offsetWidth||948,ao="",X=50,ab="",aA=48,Q=ad;function ag(aC){var aB=l.lastAction;if(aC||ui.running){l.timers[aB]=setTimeout(ag,ah.timings.retry*1000);}else{ah[aB].apply(ah,aB=="render"?[an]:[]);}}B(V?"render":l.lastAction);if(!ap||af&&(aq!=R||(!an.force&&az==al&&V==am))){ap&&aq!=R&&F(an);}else{if(!V||!af){!V&&af&&h(ah.texts.error);ag(true);}else{if(!ui.running){ap.className="";ay=q(V.getDataTable());aa=H(ay);ax=a(ay);Z=ax.length;az=az.charAt(0).toUpperCase()+az.slice(1).toLowerCase();if(az!="Table"){aa.pop();I(ax,function(aB){I(E(aB),function(aC,aE,aD){var aF=aD.length-1;if(/^[\d.,]+$/.test(aC.f)){aC.v=+aC.f.replace(/,/g,"");aC.f+=" ops/sec";U=r(U,aC.v);}else{if(aC.f){aC.f+=az=="Pie"?"":" ("+(aD[aF].v||1)+")";aj=P(ar,r(aj,aC.f.length));}}if(az=="Pie"){if(aE==aF){aD[1].f=K(aD[1].v)+" total ops/sec";}else{if(aE>1&&typeof aC.v=="number"){aD[1].v+=aC.v;}}}if(aC.p&&aC.p.className){aC.f=p+aC.f;D(function(){return !d();},0.01);}});});if(az=="Bar"){T=r(ak,X+(Z*av));W=(aj*(ae/1.6))+10;ac=(100-(((W+50)/Q)*100))+"%";}else{ab=[S,S=ab][0];T=ak;if(az=="Pie"){at="right";ao="Total operations per second by browser (higher is better)";}else{Y=28;W=aA+(K(U).length*(ae/1.6))+13;au=(aj*(ae/2))+26;Q=r(ad,W+(Z*au));}}ai=(100-(((Y+ae+X+8)/T)*100))+"%";az+="Chart";}if(Z&&af[az]){new af[az](ap).draw(ay,{fontSize:ae,is3D:true,legend:at,height:T,title:ao,width:Q,chartArea:{height:ai,left:W,top:X,width:ac},hAxis:{title:S},vAxis:{title:ab}});}else{h(ah.texts.empty);}}}}}ui.browserscope={key:"",postable:true,selector:"#bs-results",uaClass:"rt-ua-cur",timings:{cleanup:10,refresh:3,retry:5,timeout:10},texts:{empty:"No data available",error:"The get/post request has failed :(",loading:"Loading cumulative results data…",post:"Posting results snapshot…",wait:"Benchmarks running. Please wait…"},load:F,post:n,purge:u,render:z};g(G,"load",function(){var R=ui.browserscope,Q=R.key,S=Q&&O(R.selector)[0];if(S){w(S,"<h1 id=bs-logo><a href=//www.browserscope.org/user/tests/table/#{key}><span>Browserscope</span></a></h1><div class=bs-rt><div id=bs-chart></div></div>",{key:Q});R.container=O("#bs-chart")[0];j("//www.browserscope.org/ua?o=js",R.container).id="bs-ua-script";j("//www.google.com/jsapi?autoload="+encodeURIComponent('{modules:[{name:"visualization",version:1,packages:["corechart","table"],callback:ui.browserscope.load}]}'));c();}});ui.addListener("start",function(){h(ui.browserscope.texts.wait);}).addListener("abort",function(){ui.browserscope.render({force:true});});}(this,document))